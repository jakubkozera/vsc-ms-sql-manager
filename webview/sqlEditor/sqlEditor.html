<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'none';
        script-src 'unsafe-inline' 'unsafe-eval' https://cdnjs.cloudflare.com {{cspSource}};
        style-src 'unsafe-inline' https://cdnjs.cloudflare.com {{cspSource}};
        font-src https://cdnjs.cloudflare.com;
        worker-src blob:;
    ">
    <title>SQL Editor</title>
    <link rel="stylesheet" href="{{styleUri}}">
</head>
<body>
    <div id="container">
        <div id="toolbar">
            <button class="toolbar-button" id="executeButton" title="Execute Query (F5 or Ctrl+Shift+E)">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M7 4v16l13 -8z" /></svg>
                Run
            </button>
            <button class="toolbar-button secondary" id="cancelButton" disabled title="Cancel Query">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M5 5m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z" /></svg>
                Cancel
            </button>
            <div class="toolbar-separator"></div>
            <label style="font-size: 13px;">Database:</label>
            <select class="database-selector" id="databaseSelector">
                <option value="">Not Connected</option>
            </select>
            <button class="toolbar-button secondary" id="connectButton" title="Manage Connections">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M7 12l5 5l-1.5 1.5a3.536 3.536 0 1 1 -5 -5l1.5 -1.5z" /><path d="M17 12l-5 -5l1.5 -1.5a3.536 3.536 0 1 1 5 5l-1.5 1.5z" /><path d="M3 21l2.5 -2.5" /><path d="M18.5 5.5l2.5 -2.5" /><path d="M10 11l-2 2" /><path d="M13 14l-2 2" /></svg>
                Connect
            </button>
            <div class="toolbar-separator"></div>
            <span id="statusLabel">Ready</span>
        </div>
        
        <div id="editorContainer">
            <div id="editor"></div>
        </div>

        <div class="resizer" id="resizer"></div>
        
        <div id="resultsContainer">
            <div class="results-tabs">
                <button class="results-tab active" data-tab="results">Results</button>
                <button class="results-tab" data-tab="messages">Messages</button>
                <span id="executionStats"></span>
            </div>
            <div id="resultsContent" class="tab-content"></div>
            <div id="messagesContent" class="tab-content" style="display: none;"></div>
        </div>
    </div>

    <script src="{{monacoLoaderUri}}"></script>
    <script src="{{scriptUri}}"></script>
</body>
</html>